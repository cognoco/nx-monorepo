<story-context id="5b-8-update-documentation" v="1.0">
  <metadata>
    <epicId>5b</epicId>
    <storyId>8</storyId>
    <title>Update Documentation</title>
    <status>ready-for-dev</status>
    <generatedAt>2025-12-11</generatedAt>
    <generator>BMAD Story Context Workflow</generator>
    <sourceStoryPath>docs/sprint-artifacts/5b-8-update-documentation.md</sourceStoryPath>
  </metadata>

  <story>
    <asA>developer</asA>
    <iWant>documentation updated to reflect the new versions</iWant>
    <soThat>the team has accurate reference information</soThat>
    <tasks>
      <task id="1" acs="1">Update docs/tech-stack.md - Nx version, React version, @nx/expo</task>
      <task id="2" acs="2">Update docs/architecture-decisions.md - SDK 54 ADR if not exists</task>
      <task id="3" acs="3">Update .ruler/AGENTS.md - Nx command references, version numbers</task>
      <task id="4" acs="1">Verify analysis document complete</task>
      <task id="5" acs="1">Update docs/memories if needed - testing-reference.md, troubleshooting.md</task>
      <task id="6" acs="1,2,3">Review and proofread all updates</task>
    </tasks>
  </story>

  <acceptanceCriteria>
    <criterion id="1">docs/tech-stack.md updated with Nx version, React version, @nx/expo</criterion>
    <criterion id="2">docs/architecture-decisions.md has SDK 54 decision documented</criterion>
    <criterion id="3">.ruler/AGENTS.md updated with any Nx command changes</criterion>
  </acceptanceCriteria>

  <artifacts>
    <docs>
      <doc>
        <path>docs/sprint-artifacts/epic-5b-nx-upgrade-analysis.md</path>
        <title>Epic 5b Nx Upgrade Analysis</title>
        <section>Complete Document</section>
        <snippet>Complete research to reference in documentation updates. Contains decision rationale.</snippet>
      </doc>
      <doc>
        <path>docs/tech-stack.md</path>
        <title>Technology Stack Reference</title>
        <section>All sections</section>
        <snippet>Primary version inventory. Needs Nx, React, @nx/expo updates.</snippet>
      </doc>
      <doc>
        <path>docs/architecture-decisions.md</path>
        <title>Architecture Decisions</title>
        <section>ADR log</section>
        <snippet>Where to add ADR for SDK 54 decision.</snippet>
      </doc>
      <doc>
        <path>.ruler/AGENTS.md</path>
        <title>AI Agent Instructions</title>
        <section>Version references</section>
        <snippet>Source for CLAUDE.md - update version numbers and @nx/expo plugin reference.</snippet>
      </doc>
      <doc>
        <path>docs/memories/testing-reference.md</path>
        <title>Testing Reference</title>
        <section>Jest Configuration</section>
        <snippet>May need updates if Jest configs changed during upgrade.</snippet>
      </doc>
      <doc>
        <path>docs/memories/troubleshooting.md</path>
        <title>Troubleshooting Guide</title>
        <section>Various</section>
        <snippet>May need updates if new issues discovered during upgrade.</snippet>
      </doc>
    </docs>

    <code>
      <file>
        <path>package.json</path>
        <kind>manifest</kind>
        <symbol>version numbers</symbol>
        <reason>Source of truth for actual version numbers to document</reason>
      </file>
    </code>

    <dependencies>
      <ecosystem name="versions-to-document">
        <package name="nx" version="22.2.0+" />
        <package name="react" version="19.1.0" />
        <package name="react-dom" version="19.1.0" />
        <package name="@nx/expo" version="22.2.0+" />
      </ecosystem>
    </dependencies>
  </artifacts>

  <constraints>
    <constraint type="ruler">DO NOT edit CLAUDE.md directly - Ruler manages it from .ruler/AGENTS.md</constraint>
    <constraint type="documentation">Update "Last Updated" dates in all modified docs</constraint>
    <constraint type="consistency">Verify all version numbers are consistent across docs</constraint>
  </constraints>

  <interfaces>
    <interface>
      <name>Ruler System</name>
      <kind>Documentation generator</kind>
      <signature>.ruler/AGENTS.md generates CLAUDE.md</signature>
      <path>.ruler/</path>
    </interface>
  </interfaces>

  <tests>
    <standards>
      Documentation story - verification via document review.
    </standards>
    <locations>
      <location>N/A - documentation update</location>
    </locations>
    <ideas>
      <idea ac="1">Verify docs/tech-stack.md shows Nx 22.2.0+, React 19.1.0, @nx/expo</idea>
      <idea ac="2">Verify docs/architecture-decisions.md has SDK 54 ADR entry</idea>
      <idea ac="3">Verify .ruler/AGENTS.md has updated version references</idea>
    </ideas>
  </tests>
</story-context>
