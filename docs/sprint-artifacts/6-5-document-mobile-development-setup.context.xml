<story-context id="6-5-document-mobile-development-setup" v="1.0">
  <metadata>
    <epicId>6</epicId>
    <storyId>5</storyId>
    <title>Document Mobile Development Setup</title>
    <status>ready-for-dev</status>
    <generatedAt>2025-12-05</generatedAt>
    <generator>BMAD Story Context Workflow</generator>
    <sourceStoryPath>docs/sprint-artifacts/6-5-document-mobile-development-setup.md</sourceStoryPath>
  </metadata>

  <story>
    <asA>new mobile developer</asA>
    <iWant>documentation for mobile development</iWant>
    <soThat>I can get started quickly</soThat>
    <tasks>
      <task id="1" acs="7">Create Mobile README - apps/mobile/README.md</task>
      <task id="2" acs="2,3">Document Prerequisites - Node, pnpm, Xcode, Android Studio</task>
      <task id="3" acs="2">Document iOS Simulator Setup</task>
      <task id="4" acs="3">Document Android Emulator Setup</task>
      <task id="5" acs="4">Document Expo Commands - start, lint, test</task>
      <task id="6" acs="5">Document Networking Configuration - localhost differences</task>
      <task id="7" acs="6">Document Staging API Configuration - API_URL env var</task>
      <task id="8">Add Troubleshooting Section</task>
      <task id="9" acs="7">Update Project Documentation - main README, docs/index.md</task>
      <task id="10" acs="2,3">Validate Documentation - test with unfamiliar developer</task>
    </tasks>
  </story>

  <acceptanceCriteria>
    <criterion id="1">Documentation covers simulator/emulator setup</criterion>
    <criterion id="2">Developer can run mobile app on iOS Simulator in &lt;15 minutes</criterion>
    <criterion id="3">Developer can run mobile app on Android Emulator</criterion>
    <criterion id="4">Documentation covers all Expo/Nx commands needed</criterion>
    <criterion id="5">Documentation explains localhost differences per platform</criterion>
    <criterion id="6">Instructions explain how to configure staging API URL</criterion>
    <criterion id="7">Documentation exists in docs/ or apps/mobile/README.md</criterion>
  </acceptanceCriteria>

  <artifacts>
    <docs>
      <doc>
        <path>docs/sprint-artifacts/epic-6-design-decisions.md</path>
        <title>Epic 6 Design Decisions</title>
        <section>D4, D5: Metro Config, API Client</section>
        <snippet>Document Metro monorepo config, environment URL handling per platform</snippet>
      </doc>
      <doc>
        <path>docs/index.md</path>
        <title>Documentation Index</title>
        <section>Project documentation structure</section>
        <snippet>Add mobile documentation reference to project index</snippet>
      </doc>
      <doc>
        <path>README.md</path>
        <title>Project README</title>
        <section>Quick start, commands</section>
        <snippet>May need mobile section added to main README</snippet>
      </doc>
    </docs>

    <code>
      <file>
        <path>apps/web/README.md</path>
        <kind>documentation</kind>
        <symbol>Web app README (if exists)</symbol>
        <reason>Reference for app-level documentation pattern</reason>
      </file>
      <file>
        <path>apps/mobile/app.config.ts</path>
        <kind>config</kind>
        <symbol>Expo configuration</symbol>
        <reason>Document how to configure API_URL via extras</reason>
      </file>
      <file>
        <path>apps/mobile/metro.config.js</path>
        <kind>config</kind>
        <symbol>Metro bundler config</symbol>
        <reason>Document monorepo configuration for troubleshooting</reason>
      </file>
    </code>

    <dependencies>
      <ecosystem name="documentation-references">
        <package name="Expo Documentation" note="https://docs.expo.dev" />
        <package name="Nx Expo Plugin" note="https://nx.dev/technologies/react/expo" />
      </ecosystem>
    </dependencies>
  </artifacts>

  <constraints>
    <constraint type="dependency">Depends on Stories 6.1-6.4 completion - need working mobile app to document</constraint>
    <constraint type="quality">&lt;15 minute setup target for new developer</constraint>
    <constraint type="scope">Document practical setup, not comprehensive Expo tutorial</constraint>
    <constraint type="format">Markdown documentation in docs/ or apps/mobile/README.md</constraint>
  </constraints>

  <interfaces>
    <interface>
      <name>Nx Expo Targets</name>
      <kind>CLI commands</kind>
      <signature>pnpm exec nx run mobile:{start|lint|test}</signature>
      <path>apps/mobile/project.json</path>
    </interface>
    <interface>
      <name>iOS Simulator</name>
      <kind>development tool</kind>
      <signature>open -a Simulator; press 'i' in Expo CLI</signature>
      <path>Xcode (macOS)</path>
    </interface>
    <interface>
      <name>Android Emulator</name>
      <kind>development tool</kind>
      <signature>Start AVD in Android Studio; press 'a' in Expo CLI</signature>
      <path>Android Studio</path>
    </interface>
    <interface>
      <name>Environment Config</name>
      <kind>configuration</kind>
      <signature>API_URL=https://staging.example.com pnpm exec nx run mobile:start</signature>
      <path>apps/mobile/app.config.ts</path>
    </interface>
  </interfaces>

  <tests>
    <standards>
      Validation by having unfamiliar developer follow documentation.
      Success: mobile app running in &lt;15 minutes from clean clone.
    </standards>
    <locations>
      <location>Manual validation</location>
    </locations>
    <ideas>
      <idea ac="2">Time a fresh setup following docs - target &lt;15 minutes</idea>
      <idea ac="1,3,4,5,6">Review documentation for completeness and clarity</idea>
      <idea ac="7">Verify documentation exists in expected location</idea>
    </ideas>
  </tests>
</story-context>


