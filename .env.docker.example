# =============================================================================
# Docker Environment Variables Example
# =============================================================================
# Copy this file to .env.docker and fill in your values.
# Used by: docker compose up (reads from .env.docker by default if configured)
#
# Note: Do NOT commit .env.docker with real values to version control!
#
# For comprehensive documentation, see: .env.example
# =============================================================================

# =============================================================================
# DATABASE CONNECTIONS (Server-side only)
# =============================================================================
# Supabase + Prisma requires BOTH pooled and direct connections
# See docs/memories/adopted-patterns.md (Pattern 13) for detailed rationale

# Transaction mode pooler for application queries (port 6543)
DATABASE_URL=postgresql://postgres.[PROJECT-REF]:[YOUR-PASSWORD]@aws-X-[REGION].pooler.supabase.com:6543/postgres?pgbouncer=true

# Session mode pooler for migrations (port 5432)
DIRECT_URL=postgresql://postgres.[PROJECT-REF]:[YOUR-PASSWORD]@aws-X-[REGION].pooler.supabase.com:5432/postgres

# =============================================================================
# SUPABASE CREDENTIALS
# =============================================================================
# Get these from: Supabase Dashboard → Project Settings → API

# Server-side Supabase URL
SUPABASE_URL=https://[PROJECT-REF].supabase.co

# Client-side Supabase credentials (safe to expose to browser)
NEXT_PUBLIC_SUPABASE_URL=https://[PROJECT-REF].supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Server-side service role key (NEVER expose to browser!)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# =============================================================================
# API SERVER CONFIGURATION
# =============================================================================
# For Docker Compose, the API URL uses the container service name.
# The web container connects to the server container via Docker networking.

# Build-time variable for Next.js (baked into client bundle)
# For local Docker Compose: use container name
# NEXT_PUBLIC_API_URL=http://server:4000/api
#
# For production: use your deployed API URL
# NEXT_PUBLIC_API_URL=https://api.your-domain.com/api

# Server host (0.0.0.0 for container networking)
HOST=0.0.0.0

# Server port
PORT=4000

# =============================================================================
# SENTRY ERROR TRACKING & OBSERVABILITY (Optional)
# =============================================================================
# Leave empty to disable Sentry error tracking

# DSN for Express API server (apps/server)
# Pattern: SERVICE_VARIABLE_APP (server-side, suffix identifies app)
SENTRY_DSN_API=

# DSN for Next.js web app (apps/web)
# Pattern: NEXT_PUBLIC_* (framework-mandated prefix for browser exposure)
NEXT_PUBLIC_SENTRY_DSN=

# Sentry environment identifier
SENTRY_ENVIRONMENT=docker

# Sentry organization and project slugs (for source map uploads)
SENTRY_ORG=
SENTRY_PROJECT=
